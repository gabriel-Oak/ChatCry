<header id="tabs-header" #header (window:resize)="resize()">
  <div id="header-labs">
    <div class="menuItem " (mouseover)="mouseover(0)" (mouseout)="mouseout()" (click)="select(0)" ripple #menuIt>

      <i class="material-icons">
        question_answer
      </i>
      <h3 class="typo-subtitle2">Conversas</h3>
    </div>

    <div class="menuItem " (mouseover)="mouseover(1)" (mouseout)="mouseout()" (click)="select(1)" ripple>

      <i class="material-icons">
        contacts
      </i>
      <h3 class="typo-subtitle2">Contatos</h3>
    </div>

    <div class="menuItem " (mouseover)="mouseover(2)" (mouseout)="mouseout()" (click)="select(2)" ripple>

      <i class="material-icons">
        group
      </i>
      <h3 class="typo-subtitle2">Grupos</h3>
    </div>
  </div>

  <div id="indicator-wrapper">
    <div id="indicator"></div>
  </div>
</header>
<div class="tab-container-wrapper">

  <i class="material-icons toggle menu" (click)="menutoggle()" ripple>
    menu
  </i>

  <section id="tabs-container" [ngClass]="{
                                            'anamitaion-forward': animating && forward, 
                                            'anamitaion-backward': animating && !forward
                                          }" #container>

    <div class="tab-content" #chatsContainer>

      <ng-container *ngTemplateOutlet="searchBox"></ng-container>
      <chats [chatList]='chatList' 
              [filter]="filter" 
              [activeChat]='activeChat' 
              (toggleInfo)="toggleContactInfo($event)" 
              (chat)="chatWith($event)">
      </chats>

    </div>

    <div class="tab-content" [ngStyle]="{'overflow-y' : floatInfo ? 'hidden' : 'auto'}" #contactContainer>

      <ng-container *ngTemplateOutlet="searchBox"></ng-container>

      <div class="contactList">
        <h3 class="typo-subtitle1">Contatos</h3>
        <ng-container *ngFor="let contact of contactList | filterContacts: filter ; index as i">
          <div class="contact" (click)="chatStart(contact)" ripple>
            <img [src]="contact.imagem" alt="Avatar" class="contactAvatar avatar raized" (click)="toggleContactInfo(contact, $event)" ripple>
            <span class="typo-h6">{{contact.nome}}</span>
          </div>
        </ng-container>
      </div>

      
    </div>
    <div class="tab-content">

      <ng-container *ngTemplateOutlet="searchBox"></ng-container>
      
      <groups [groupList]='groupList' 
              [filter]="filter" 
              (toggleInfo)="toggleGroupInfo($event)"
              (chat)="chatWith($event); chatStart($event)">
      </groups>

    </div>

    <ng-template #searchBox>
      <div class="searchBox">
        <i class="material-icons" ripple>
          search
        </i>
        <input type="text" placeholder="Pesquisar" class="typo-caption" [(ngModel)]="filter">
        <i class="material-icons" ripple (click)="clearFilter()">
          close
        </i>
      </div>
    </ng-template>
    
  </section>
  <div class="floatInfo raized" [ngStyle]="{'transform' : floatInfo ? 'translateX(0%)' : 'translateX(-100%)'}">
    <i class="material-icons toggle" (click)="toggleContactInfo()" ripple>
      close
    </i>

    <img [src]="openContact['imagem'] | urlPipe" alt="avatar" class="BigAvatar raized">
    <h2 class="typo-h4">{{openContact["nome"]}}</h2>
    <h4 class="typo-subtitle2">Ultimo acesso: {{openContact["ultimoAcesso"] | date:'short' }}</h4>
  </div>

  <div class="floatInfo raized" [ngStyle]="{'transform' : floatGroupInfo ? 'translateX(0%)' : 'translateX(-100%)'}">
      <i class="material-icons toggle" (click)="toggleGroupInfo()" ripple>
        close
      </i>
  
      <img [src]="openGroup['imagem'] | urlPipe" alt="avatar" class="BigAvatar raized">
      <h2 class="typo-h4">{{openGroup["nome"]}}</h2>
      <h4 class="typo-subtitle2">Ultima mensagem: {{openGroup.ultimoAcesso.data | date:'short' }}</h4>
  </div>
    
</div>